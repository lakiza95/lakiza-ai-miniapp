<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AI Language Tutor</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>

    <div class="container">
        
        <div id="screen-welcome" class="screen">
            <div class="header-icon">üëã</div>
            <h2>English Practice</h2>
            <p>–ì–æ—Ç–æ–≤—ã –ø—Ä–æ–∫–∞—á–∞—Ç—å speaking?</p>
            <button class="main-btn" onclick="goToLevels()">–ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
        </div>

        <div id="screen-levels" class="screen hidden">
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å</h3>
            <div class="grid-btns">
                <button class="level-btn" onclick="startSession('A1')">Beginner (A1)</button>
                <button class="level-btn" onclick="startSession('B1')">Intermediate (B1)</button>
                <button class="level-btn" onclick="startSession('C1')">Advanced (C1)</button>
            </div>
            <p class="hint">–°–µ—Å—Å–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞</p>
        </div>

        <div id="screen-chat" class="screen hidden">
            <div class="status-bar">
                <span id="sessionLevelBadge">Lvl</span>
                <span id="msgStatus">–°–ª—É—à–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å...</span>
            </div>

            <div class="ai-avatar pulse" id="aiAvatar">ü§ñ</div>

            <audio id="audioPlayer" style="display:none"></audio>

            <div class="controls">
                <div class="visualizer" id="visualizer">
                    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
                    <div class="bar"></div><div class="bar"></div>
                </div>
                
                <button id="recordBtn" class="record-btn">
                    <div class="inner-circle"></div>
                </button>
                <p id="recordHint">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –≥–æ–≤–æ—Ä–∏—Ç—å</p>
            </div>
        </div>

        <div id="screen-result" class="screen hidden">
            <div class="score-circle">
                <span id="finalScore">-</span>
                <small>/10</small>
            </div>
            <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h3>
            
            <div class="feedback-box">
                <h4>Feedback:</h4>
                <p id="finalFeedback">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>

            <button class="main-btn" onclick="restartApp()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â–µ</button>
        </div>
        
        <div id="loader" class="loader-overlay hidden">
            <div class="spinner"></div>
        </div>

    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="app.js"></script>
</body>
</html>
